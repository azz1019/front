<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async await keyword</title>
</head>
<body>
    <h3><a href="../index.html">상위폴더로 돌아가기</a></h3>
    <h1>Promise 객체활용과 데이터통신을 편리하게 할수있도록 제공되는 키워드</h1>
    <ul>
        <li>async 키워드 : 함수 선언키워드(function)앞에 사용하면 그 함수의 리턴을 Promise객체타입으로 만들어준다</li>
        <li>await 키워드 : 순차적 코드실행시 데이터통신과 같은 지연로딩 및 지연실행 상황이 발생할경우 코드실행순서를 순차적으로 진행할수있도록 보증한다, 즉 이전라인의 코드실행이 완료될때까지 다음라인 실행을 기다리게하는 기능</li>
    </ul>
    <h3>https://jsonplaceholder.typicode.com/ 을 활용한 async await연습</h3>
    <button type="button" id="btn">데이터 불러오기</button>

    <script>
        document.getElementById('btn').addEventListener('click', () => {
            async function fetch_and_await() {
                try {
                    const resp = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                    const result = await resp.text();
                    console.log(result);    
                } catch (error) {
                    console.log(error);
                } finally {
                    console.log('async finish');
                }
            }
            fetch_and_await();
        });
    </script>
</body>
</html>